<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>geonodetek</title>

		<!-- angular.js -->
	    <script src="/static/lib/js/angular/angular.1.3.15.js"></script> 
	    
	    <!-- custom css -->
		<link rel="stylesheet" type="text/css" href="/static/css/site.css" />

		<!-- angular.js app -->
		<script src="/static/js/controllers.js"></script> 
	</head>
	<body ng-app='geoNodeTekApp' ng-controller="MapCtrl">

		<div style='width: 100%;text-align: center;'>

			<div ng-show='globalState == loadingState'>

		 		<div style="width: 100%;">
		           
		            <div class='panel leftPanel'>
		          
						<input
							id='MapListFilterToken'
							placeholder='type here to filter map list and auto-select a map' 
							ng-model='mapSearchToken' 
							ng-keyup='onMapSearchTokenChanged();' 
							type='text'
							/>
							<!-- size='32' -->

						<!--<div style='min-height:200px;max-height:200px;overflow:auto;'>-->
		            	<div>

							<div ng-repeat="map in filteredMapList">
								<span ng-class='selectedMap[0].id == map.id ? "selected-text" : "";'>{{map.name.toLowerCase()}}</span>
							</div>

						</div>
		            </div>
		        
		            <div class='panel rightPanel'>
						<a ng-class="selectedMap.length == 0 ? 'inactive' : 'active'" href='#' ng-click='loadSelectedMap();'>load map</a>
		           </div>

		        </div>

		        <div style="clear:both"></div>
		    </div>

	    </div>

		<div ng-show='(globalState == viewingState) || (globalState == processingState)' style='width: 100%;margin: 0 auto;text-align: center;'>
			<div>
				{{ selectedMap[0].name }}
			</div>
			
			<canvas 
				id="canvas"
				width='800px'
				height='500px'
				style='display:inline-block;border-style:solid;border-width:1px;border-color:lightgrey;'
				>

			</canvas>

			<div class='info-text'>
				<a ng-click="findAnotherMap();" href="#" >find another map</a>
			</div>

		</div>

	</body>
</html>