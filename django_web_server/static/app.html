	<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>GeoNodeTek</title>

		<link rel="stylesheet" type="text/css" href="/static/css/geonodetek.css" />
	    <script src="/static/lib/js/angular/angular.1.3.15.js"></script>

		<script src="/static/js/lib.js"></script>

	    <script src="/static/js/gps.js"></script>
	    <script src="/static/js/gfx.js"></script>	    
		<script src="/static/js/controllers.js"></script> 

	</head>
	<body ng-app='geoNodeTekApp' ng-controller="GeoNodeTekController" style='height:100%;'>

		<div id="wrapper">

		    <div id="top">
		        <div id="topleft">
		        </div>
		        <div id="topright">
		        	{{ headerText }}
	        	</div>
		    </div>

		    <div id="middle">
		        <div id="middleleft">

			        <div class='margin-right-10px'>

		           		<a ng-class='active' href='#' ng-click='launchGpxImport();'>import gpx file</a>
		           		<br/>
		           		<br/>

						<a ng-class="selectedMap.length == 0 ? 'inactive' : 'active'" href='#' ng-click='gotoOpenTrack();'>open track</a>
		           		<br/>
		           		<br/>

				        <a ng-class="(mapIsLoadedAndActive == true) && (view !== Views.MAP) ? 'active' : 'inactive'" href='#' ng-click='returnToActiveMap();'>active map</a>
		           		<br/>
						<a ng-show='view == Views.MAP' href='#' ng-click='showMapInfoOverlay = !showMapInfoOverlay;'>summary info text</a>
						<br/>
						<a ng-show='view == Views.MAP' href='#' ng-click='gotoOverlayMap();'>add trail</a>
						<br/>

						<br/>

						<a ng-show='view == Views.MAP' href='#' ng-click='zoomIn();'>zoom in</a>
						<br/>

						<a ng-show='view == Views.MAP' href='#' ng-click='zoomOut();'>zoom out</a>
						<br/>
		           	</div>

		        </div>
		        <div id="middleright">

					<!-- IMPORT -->
	            	<div>
		           		<div ng-show='view == Views.IMPORT'>
		           			<input style='align:right;' type="file" multiple id="ImportMapFileInput" name="file"/>
		           			<br/>
							<button ng-click="postMapDataFiles()">import selected file</button>
		           		</div>
	           		</div>

		        	<!-- MAP LIST -->
	          		<div ng-show='view == Views.MAP_LIST'>

						<input
							id='MapListFilterToken'
							placeholder='type here to filter map list and auto-select a map' 
							ng-model='mapSearchToken' 
							ng-keyup='filterMapList();' 
							type='text'
							size='32'
							class='dashed-line-text-input'
							ng-class='(mapSearchToken == "") || (filteredMapList.length == 0) ? "action-required" : "no-action-required"'
							/>

		            	<div class='map-list'>
							<div ng-repeat="map in filteredMapList">
								<span 
									ng-class='selectedMap[0].id == map.id ? "selected-text" : "";'
									ng-click='mapListItemClicked(map.id);'
									>
									{{ map.timestamp + ' ' + map.name.toLowerCase() }}
								</span>
							</div>
						</div>
					</div>

	           		<!-- MAP -->
					<div id='mapContainer' ng-show='view == Views.MAP' class="panel" style='height:100%;width100%'>

						<canvas id="canvas" class="map-canvas">
						</canvas>

						<div id='CanvasSelectionArea' 
							style='position: absolute; z-index: 20;'>
						</div>

						<div id='mapInfoOverlay' class='map-info-overlay' ng-show='showMapInfoOverlay'>
							<div ng-repeat="line in mapInfoOverlayText">
								<span>
									{{ line}}
								</span>
							</div>							
						</div>

					</div>

	        	</div>
		    </div>

		    <div id="bottom">
		        <div id="bottomleft">	
     	
		        </div>
		        <div id="bottomright">
		        	{{ infoText }}
		        </div>
		    </div>
		</div>

	</body>
</html>